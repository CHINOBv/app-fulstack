(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,a){e.exports=a(90)},72:function(e,t,a){},73:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),o=a.n(l),c=(a(72),a(73),a(74),a(9)),i=a(10),s=a(11),m=a(12),u=a(13),d=a(24),p=a(36),b=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between d-flex mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{to:"/",className:"navbar-brand text-light font-weight-bold"},"CRM"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navegacion","aria-controls":"navegacion","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navegacion"},r.a.createElement("ul",{className:"navbar-nav ml-auto text-right"},r.a.createElement("li",{className:"nav-item dropdown mr-md-2 mb-2 mb-md-0"},r.a.createElement("button",{className:"nav-link dropdown-toggle btn btn-block btn-success","data-toggle":"dropdown"},"Clientes"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navegacion"},r.a.createElement(d.b,{to:"/clientes",className:"dropdown-item"}," Ver Clientes "),r.a.createElement(d.b,{to:"/clientes/nuevo",className:"dropdown-item"}," Nuevo Cliente "))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{className:"nav-link dropdown-toggle btn btn-block btn-success","data-toggle":"dropdown"},"Productos"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navegacion"},r.a.createElement(d.b,{to:"/productos",className:"dropdown-item"}," Ver Productos "),r.a.createElement(d.b,{to:"/productos/nuevo",className:"dropdown-item"}," Nuevo Producto ")))))))},f=a(92),E=a(22),g=a(25),v=a.n(g);function h(){var e=Object(E.a)(["\n\n  query getProducto ($id: ID){\n    getProducto(id: $id){\n      id\n      nombre\n      precio\n      stock\n    }\n  }\n\n"]);return h=function(){return e},e}function N(){var e=Object(E.a)(["\n\n  query getProductos($limite: Int, $offset: Int){\n    getProductos(limite: $limite, offset: $offset){\n      id\n      nombre\n      precio\n      stock\n    }\n    totalProductos\n}\n"]);return N=function(){return e},e}function j(){var e=Object(E.a)(["\n  query ConsultarCliente($id: ID) {\n    getCliente(id: $id) {\n      id\n      nombre\n      apellido\n      emails{\n        email\n      }\n      edad\n      tipo\n      empresa\n    }\n  }\n"]);return j=function(){return e},e}function y(){var e=Object(E.a)(["\n  \n    query getClientes ($limite: Int, $offset: Int) {\n      getClientes(limite: $limite, offset: $offset){\n        id\n        nombre\n        apellido\n        empresa\n      }\n      totalClientes  \n  }\n"]);return y=function(){return e},e}var C=v()(y()),O=v()(j()),k=v()(N()),w=v()(h());function S(){var e=Object(E.a)(["\n\nmutation actualizarProducto($input: ProductoInput){\n  actualizarProducto(input: $input){\n    nombre\n    precio\n    stock\n  }\n}  \n"]);return S=function(){return e},e}function P(){var e=Object(E.a)(["\n\n  mutation eliminarProducto($id: ID){\n    eliminarProducto(id: $id)\n  }\n\n"]);return P=function(){return e},e}function x(){var e=Object(E.a)(["\n\n  mutation nuevoProducto($input: ProductoInput){\n    nuevoProducto(input: $input){\n      id\n      nombre\n      precio\n      stock\n    }\n  }\n\n"]);return x=function(){return e},e}function A(){var e=Object(E.a)(["\n\nmutation eliminarCliente($id:ID!){\n  eliminarCliente(id:$id)\n}\n\n"]);return A=function(){return e},e}function $(){var e=Object(E.a)(["\n\nmutation actualizarCliente($input: ClienteInput){\n  actualizarCliente(input: $input){\n    id\n    nombre\n    apellido\n    edad\n    empresa\n    emails{\n      email\n    }\n    tipo\n  }\n}\n\n"]);return $=function(){return e},e}function I(){var e=Object(E.a)(["\n  mutation crearCliente($input: ClienteInput) {\n    crearCliente(input: $input) {\n      id\n      nombre\n      apellido\n    }\n  }\n"]);return I=function(){return e},e}var F=v()(I()),z=v()($()),q=v()(A()),M=v()(x()),D=v()(P()),R=v()(S()),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={paginador:{paginas:Math.ceil(Number(a.props.total)/a.props.limite)}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.actual,t=e>1?r.a.createElement("button",{className:"btn btn-success mr-2",onClick:this.props.paginaAnt}," \xab Anterior "):"",a=e!==this.state.paginador.paginas?r.a.createElement("button",{className:"btn btn-success ml-2",onClick:this.props.paginaSig},"   Siguiente \xbb "):"";return r.a.createElement("div",{className:" mt-5 d-flex justify-content-center mb-5 "},t,a)}}]),t}(n.Component),T=function(e){var t=e.mensaje;return r.a.createElement("p",{className:"alert alert-success py-3 text-center my-3"},t)},W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sk-cube-grid"},r.a.createElement("div",{className:"sk-cube sk-cube1"}),r.a.createElement("div",{className:"sk-cube sk-cube2"}),r.a.createElement("div",{className:"sk-cube sk-cube3"}),r.a.createElement("div",{className:"sk-cube sk-cube4"}),r.a.createElement("div",{className:"sk-cube sk-cube5"}),r.a.createElement("div",{className:"sk-cube sk-cube6"}),r.a.createElement("div",{className:"sk-cube sk-cube7"}),r.a.createElement("div",{className:"sk-cube sk-cube8"}),r.a.createElement("div",{className:"sk-cube sk-cube9"}))}}]),t}(r.a.Component),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).limite=3,a.state={paginador:{offset:0,actual:1},alerta:{mostrar:!1,mensaje:""}},a.paginaAnt=function(){a.setState({paginador:{offset:a.state.paginador.offset-a.limite,actual:a.state.paginador.actual-1}})},a.paginaSig=function(){a.setState({paginador:{offset:a.state.paginador.offset+a.limite,actual:a.state.paginador.actual+1}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.alerta,a=t.mostrar,l=t.mensaje,o=a?r.a.createElement(T,{mensaje:l}):"";return r.a.createElement(f.b,{query:C,pollInterval:500,variables:{limite:this.limite,offset:this.state.paginador.offset}},(function(t){var a=t.loading,l=t.error,c=t.data;t.startPolling,t.stopPolling;return a?r.a.createElement(W,null):l?"Error: ".concat(l.message):r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center"},"Listado de Clientes"),o,r.a.createElement("ul",{className:"list-group mt-4"},c.getClientes.map((function(t){var a=t.id;return r.a.createElement("li",{key:t.id,className:"list-group-item mt-4"},r.a.createElement("div",{className:"row justify-content-between align-items-center"},r.a.createElement("div",{className:"col-md-8 d-flex justify-content-between align-items-center"},t.nombre," ",t.apellido," - ",t.empresa),r.a.createElement("div",{className:"col-md-4 d-flex justify-content-end"},r.a.createElement(d.b,{to:"/pedidos/nuevo/".concat(a),className:"btn btn-warning d-block d-md-inline-block mr-2 text-center"},"+ Nuevo Pedido"),r.a.createElement(f.a,{mutation:q,onCompleted:function(t){e.setState({alerta:{mostrar:!0,mensaje:t.eliminarCliente}})}},(function(e){return r.a.createElement("button",{className:"btn btn-danger d-block d-md-inline-block",onClick:function(){window.confirm("Seguro que desea eliminar el Cliente: ".concat(t.nombre+" - "+t.apellido))&&e({variables:{id:a}})}},"\xd7 Eliminar")})),r.a.createElement(d.b,{to:"/clientes/editar/".concat(t.id),className:"btn btn-success d-block d-md-inline-block ml-2"},"Editar Cliente"))))}))),r.a.createElement(V,{actual:e.state.paginador.actual,total:c.totalClientes,limite:e.limite,paginaAnt:e.paginaAnt,paginaSig:e.paginaSig}))}))}}]),t}(n.Component),B=a(16),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={client:a.props.client,emails:a.props.client.emails},a.nuevoCampo=function(){a.setState({emails:a.state.emails.concat([{email:""}])})},a.leerCampo=function(e){return function(t){var n=a.state.emails.map((function(a,n){return e!==n?a:Object(B.a)({},a,{email:t.target.value})}));a.setState({emails:n})}},a.quitarCampo=function(e){return function(){a.setState({emails:a.state.emails.filter((function(t,a){return e!==a}))})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.client,a=t.nombre,n=t.apellido,l=t.edad,o=t.empresa,c=t.tipo,i=this.state.emails;return r.a.createElement(f.a,{mutation:z,onCompleted:function(){return e.props.refetch().then((function(){e.props.history.push("/clientes")}))}},(function(t){return r.a.createElement("form",{className:"col-md-8 m-3",onSubmit:function(a){a.preventDefault();var n=e.state.client,r=n.id,l=n.nombre,o=n.apellido,c=n.edad,i=n.empresa,s=n.tipo,m=e.state.emails,u={id:r,nombre:l,apellido:o,edad:Number(c),empresa:i,tipo:s,emails:m};t({variables:{input:u}})}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:a,onChange:function(t){e.setState({client:Object(B.a)({},e.state.client,{nombre:t.target.value})})}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Apellido"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:n,onChange:function(t){e.setState({client:Object(B.a)({},e.state.client,{apellido:t.target.value})})}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",null,"Empresa"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:o,onChange:function(t){e.setState({client:Object(B.a)({},e.state.client,{empresa:t.target.value})})}})),i.map((function(t,a){return r.a.createElement("div",{key:a,className:"form-group col-md-12"},r.a.createElement("label",null,"Email ",a+1," : "),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"email",placeholder:"Email",className:"form-control",onChange:e.leerCampo(a),defaultValue:t.email}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:e.quitarCampo(a)},"\xd7 Eliminar"))))})),r.a.createElement("div",{className:"form-group d-flex justify-content-center col-md-12"},r.a.createElement("button",{onClick:e.nuevoCampo,type:"button",className:"btn btn-warning"},"+ Agregar Email"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Edad"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:l,onChange:function(t){e.setState({client:Object(B.a)({},e.state.client,{edad:t.target.value})})}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Tipo Cliente"),r.a.createElement("select",{className:"form-control",defaultValue:c,onChange:function(t){e.setState({client:Object(B.a)({},e.state.client,{tipo:t.target.value})})}},r.a.createElement("option",{value:""},"Elegir..."),r.a.createElement("option",{value:"PREMIUM"},"PREMIUM"),r.a.createElement("option",{value:"BASICO"},"B\xc1SICO")))),r.a.createElement("button",{type:"submit",className:"btn btn-success float-right"},"Guardar Cambios"))}))}}]),t}(n.Component),G=Object(p.f)(L),J=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center"},"Editar Cliente"),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(f.b,{query:O,variables:{id:e}},(function(e){var t=e.loading,a=e.error,n=e.data,l=e.refetch;return t?"Cargando...":a?"Error: ".concat(a.message):r.a.createElement(G,{client:n.getCliente,refetch:l})}))))}}]),t}(n.Component),Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cliente:{nombre:"",apellido:"",empresa:"",edad:"",email:"",tipo:""},error:!1,emails:[]},a.NewCamp=function(){a.setState({emails:a.state.emails.concat([{email:""}])})},a.DelCamp=function(e){return function(){a.setState({emails:a.state.emails.filter((function(t,a){return e!==a}))})}},a.ReadCamp=function(e){return function(t){var n=a.state.emails.map((function(a,n){return e!==n?a:Object(B.a)({},a,{email:t.target.value})}));a.setState({emails:n})}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.error?r.a.createElement("p",{className:"alert alert-danger p-3 text-center"},"Todos los campos son obligatorios"):"";return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center"},"Nuevo Cliente"),t,r.a.createElement(f.a,{mutation:F,onCompleted:function(){e.props.history.push("/clientes")}},(function(t){return r.a.createElement("div",{className:"justify-content-center d-flex"},r.a.createElement("form",{className:"col-md-8 m-3 justify-content-center",onSubmit:function(a){a.preventDefault();var n=e.state.cliente,r=n.nombre,l=n.apellido,o=n.empresa,c=n.edad,i=n.tipo,s=e.state.emails,m={nombre:r,apellido:l,empresa:o,edad:Number(c),emails:s,tipo:i};""!==r.trim()&&""!==l.trim()&&""!==o.trim()&&""!==c.trim()&&""!==i.trim()?(e.setState({error:!1}),t({variables:{input:m}})):e.setState({error:!0})}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nombre",onChange:function(t){e.setState({cliente:Object(B.a)({},e.state.cliente,{nombre:t.target.value})})}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Apellido"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Apellido",onChange:function(t){e.setState({cliente:Object(B.a)({},e.state.cliente,{apellido:t.target.value})})}}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",null,"Empresa"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Empresa",onChange:function(t){e.setState({cliente:Object(B.a)({},e.state.cliente,{empresa:t.target.value})})}})),e.state.emails.map((function(t,a){return r.a.createElement("div",{key:a,className:"form-group col-md-12 "},r.a.createElement("label",null,"Correo ",a+1,": "),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"email",placeholder:"Ingresa tu Email",className:"form-control",onChange:e.ReadCamp(a)}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.DelCamp(a)},"\xd7 Eliminar"," "))))})),r.a.createElement("div",{className:"form-group d-flex justify-content-center col-md-12"},r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:e.NewCamp},"Agregar Email"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Edad"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Edad",onChange:function(t){e.setState({cliente:Object(B.a)({},e.state.cliente,{edad:t.target.value})})}})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Tipo Cliente"),r.a.createElement("select",{className:"form-control",onChange:function(t){e.setState({cliente:Object(B.a)({},e.state.cliente,{tipo:t.target.value})})}},r.a.createElement("option",{value:""},"Elegir..."),r.a.createElement("option",{value:"PREMIUM"},"PREMIUM"),r.a.createElement("option",{value:"BASICO"},"B\xc1SICO")))),r.a.createElement("button",{type:"submit",className:"btn btn-success float-right"},"Agrgar Cliente")))})))}}]),t}(n.Component),H=a(3),K={nombre:"",precio:"",stock:""},X=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(B.a)({},K),a.cleanState=function(){a.setState(Object(B.a)({},K))},a.actualizarState=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a.validForm=function(){var e=a.state,t=e.nombre,n=e.precio,r=e.stock;return!t.trim()||!n||!r},a.crearProducto=function(e,t){e.preventDefault(),t().then((function(e){a.cleanState(),a.props.history.push("/productos")}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nombre,l=t.precio,o=t.stock,c={nombre:a,precio:Number(l),stock:Number(o)};return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center mb-5"},"NuevoProducto"),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(f.a,{mutation:M,variables:{input:c}},(function(t,a){a.loading,a.error,a.data;return r.a.createElement("form",{className:"col-md-8",onSubmit:function(a){return e.crearProducto(a,t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",name:"nombre",className:"form-control",placeholder:"Nombre del Producto",autoComplete:"off",onChange:e.actualizarState})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"$")),r.a.createElement("input",{type:"number",name:"precio",className:"form-control",placeholder:"Precio del Producto",onChange:e.actualizarState}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stock:"),r.a.createElement("input",{type:"number",name:"stock",className:"form-control",placeholder:"stock del Producto",onChange:e.actualizarState})),r.a.createElement("button",{disabled:e.validForm(),type:"submit",className:"btn btn-success float-right"},"Crear Producto"))}))))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).limite=3,a.state={alerta:{mostrar:!1,mensaje:""},paginador:{offset:0,actual:1}},a.paginaAnt=function(){a.setState({paginador:{offset:a.state.paginador.offset-a.limite,actual:a.state.paginador.actual-1}})},a.paginaSig=function(){a.setState({paginador:{offset:a.state.paginador.offset+a.limite,actual:a.state.paginador.actual+1}})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.alerta,a=t.mostrar,l=t.mensaje,o=a?r.a.createElement(T,{mensaje:l}):"";return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center mb-5"}," Productos "),o,r.a.createElement(f.b,{query:k,pollInterval:500,variables:{limite:this.limite,offset:this.state.paginador.offset}},(function(t){var a=t.loading,l=t.error,o=t.data;t.startPolling,t.stopPolling;return a?"CARGANDO...":l?"Error: ".concat(l.message):(console.log(o),r.a.createElement(n.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},r.a.createElement("th",{scope:"col"}," Nombre "),r.a.createElement("th",{scope:"col"}," Precio "),r.a.createElement("th",{scope:"col"}," Existentes "),r.a.createElement("th",{scope:"col"}," Eliminar "),r.a.createElement("th",{scope:"col"}," Editar "))),r.a.createElement("tbody",null,o.getProductos.map((function(t){var a=t.id;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.precio),r.a.createElement("td",null,t.stock),r.a.createElement("td",null,r.a.createElement(f.a,{mutation:D,onCompleted:function(t){e.setState({alerta:{mostrar:!0,mensaje:t.eliminarProducto}})}},(function(e){return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){window.confirm("Esta Seguro de Eliminar el Producto: ".concat(t.nombre))&&e({variables:{id:a}})}},"\xd7 Eliminar")}))),r.a.createElement("td",null,r.a.createElement(d.b,{type:"button",className:"btn btn-success",to:"/productos/editar/".concat(a)},"Editar")))})))),r.a.createElement(V,{actual:e.state.paginador.actual,total:o.totalProductos,limite:e.limite,paginaAnt:e.paginaAnt,paginaSig:e.paginaSig})))})))}}]),t}(n.Component),Z={nombre:"",precio:"",stock:""},_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(B.a)({},a.props.data.getProducto),a.cleanState=function(){a.setState(Object(B.a)({},Z))},a.actualizarState=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a.validForm=function(){var e=a.state,t=e.nombre,n=e.precio,r=e.stock;return!t.trim()||!n||!r},a.editarProductoForm=function(e,t){e.preventDefault(),t().then((function(e){a.setState(Object(B.a)({},Z)),a.props.refetch().then((function(){return a.props.history.push("/productos")}))}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.nombre,n=t.precio,l=t.stock,o=this.props.id,c={id:o,nombre:a,precio:Number(n),stock:Number(l)};return r.a.createElement(f.a,{mutation:R,variables:{input:c},key:o},(function(t,o){o.loading,o.error,o.data;return r.a.createElement("form",{className:"col-md-8",onSubmit:function(a){return e.editarProductoForm(a,t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{onChange:e.actualizarState,type:"text",name:"nombre",className:"form-control",placeholder:"Nombre del Producto",autoComplete:"off",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Precio:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"$")),r.a.createElement("input",{onChange:e.actualizarState,type:"number",name:"precio",className:"form-control",placeholder:"Precio del Producto",value:n}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Stock:"),r.a.createElement("input",{onChange:e.actualizarState,type:"number",name:"stock",className:"form-control",placeholder:"stock del Producto",value:l})),r.a.createElement("button",{disabled:e.validForm(),type:"submit",className:"btn btn-success float-right"},"Guardar Cambios"))}))}}]),t}(n.Component),ee=Object(p.f)(_),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center"},"Editar Producto"),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(f.b,{query:w,variables:{id:e}},(function(t){var a=t.loading,n=t.error,l=t.data,o=t.refetch;return a?"Cargando...":n?"Error: ".concat(n.message):r.a.createElement(ee,{data:l,refetch:o,id:e})}))))}}]),t}(n.Component);var ae=function(e){var t=e.id;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"mb-3 text-center"},"Data"),r.a.createElement(f.b,{query:O,variables:{id:t},pollInterval:500},(function(e){var a=e.loading,n=e.error,l=e.data;e.startPolling,e.stopPolling;if(a)return"Cargando...";if(n)return"Error: ".concat(n.message);var o=l.getCliente,c=o.nombre,i=o.apellido,s=o.edad,m=o.emails,u=o.empresa,d=o.tipo;return r.a.createElement("ul",{className:"list-unstyled my-5 list-group"},r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"},"Nombre:",r.a.createElement("span",{className:"font-weight-normal"},c)),r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"}," Apellido:",r.a.createElement("span",{className:"font-weight-normal"},i)),r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"}," Edad:",r.a.createElement("span",{className:"font-weight-normal"},s)),r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"},r.a.createElement("button",{type:"button",className:"btn btn-primary d-block d-md-inline-block mr-2 text-center","data-toggle":"modal","data-target":"#VerEmails"},"Ver Emails"),r.a.createElement("div",{className:"modal fade",id:"VerEmails",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalScrollableTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalScrollableTitle"},"Emails de: ",c),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},m.map((function(e){return r.a.createElement("h5",{key:t},e.email)}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))),r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"}," Empresa:",r.a.createElement("span",{className:"font-weight-normal"},u)),r.a.createElement("li",{className:"border font-weight-bold p-2 list-group-item"}," tipo:",r.a.createElement("span",{className:"font-weight-normal"},d)))})))},ne=a(65),re=a(64),le=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.producto;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,t.nombre),r.a.createElement("td",null,t.precio),r.a.createElement("td",null,t.stock),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",onChange:function(t){return e.props.actualizarCant(t.target.value,e.props.index)}})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bold"},"\xd7 Eliminar"))))}}]),t}(r.a.Component);var oe=function(e){var t=e.productos;return 0===t.length?null:r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center mb-5 mt-5"},"Resumen"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"bg-success text-light"},r.a.createElement("tr",{className:"font-weight-bold"},r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Inventario"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,t.map((function(t,a){return r.a.createElement(le,{key:t.id,id:t.id,producto:t,index:a,actualizarCant:e.actualizarCant})})))))},ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],total:0},a.selectProducto=function(e){a.setState({products:e})},a.actualizarCant=function(e,t){var n=a.state.products;0!==n.length?(n[t].cant=Number(e),console.log(n),a.setState({products:n})):a.setState({total:0})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.datas.getProductos;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"text-center mb-5"},"Seleccionar Articulos"),r.a.createElement(ne.a,{onChange:this.selectProducto,options:e,isMulti:!0,components:Object(re.a)(),placeholder:"Seleccionar Productos",getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.nombre}}),r.a.createElement(oe,{productos:this.state.products,actualizarCant:this.actualizarCant}),r.a.createElement("p",{className:"fotn-weight-bold float-right mt-3"},"Total:",r.a.createElement("span",{className:"fotn-weight-normal"},"$ ",this.state.total)))}}]),t}(n.Component),ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center mb-5"},"Nuevo Pedido"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ae,{id:e})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(f.b,{query:k},(function(t){var a=t.loading,n=t.error,l=t.data;return a?r.a.createElement(W,null):n?"Error: ".concat(n.message):(console.log(l),r.a.createElement(ce,{datas:l,id:e}))})))))}}]),t}(n.Component),se=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/clientes",component:U}),r.a.createElement(p.a,{exact:!0,path:"/clientes/nuevo",component:Q}),r.a.createElement(p.a,{exact:!0,path:"/clientes/editar/:id",component:J}),r.a.createElement(p.a,{exact:!0,path:"/productos",component:Y}),r.a.createElement(p.a,{exact:!0,path:"/productos/nuevo",component:X}),r.a.createElement(p.a,{exact:!0,path:"/productos/editar/:id",component:te}),r.a.createElement(p.a,{exact:!0,path:"/pedidos/nuevo/:id",component:ie})))))}}]),t}(n.Component),me=a(15),ue=a(66),de=a(39),pe=new ue.a({uri:"https://0c06c9d2.ngrok.io/graphql",cache:new de.a({addTypename:!1}),onError:function(e){var t=e.networkError,a=e.graphQLErrors;console.log("Errors gql: ",a),console.log("Errors NetWork: ",t)}});var be=function(){return r.a.createElement(me.a,{client:pe},r.a.createElement(se,null))},fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(be,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/app-fulstack",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/app-fulstack","/service-worker.js");fe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ee(t,e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.14d060a7.chunk.js.map